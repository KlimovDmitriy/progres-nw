<template>
  <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8 border border-blue-100">
    <div class="flex flex-col sm:flex-row items-center justify-between gap-6">
      <div class="text-center sm:text-left">
        <div class="text-lg text-gray-600 mb-1">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</div>
        <div class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
          {{ formatPrice(total) }} ‚ÇΩ
        </div>
        <div class="text-sm text-gray-500 mt-1">
          –¢–æ–≤–∞—Ä–æ–≤: {{ itemsCount }}
        </div>
      </div>

      <div class="flex flex-col sm:flex-row gap-3">
        <BaseButton variant="secondary" icon="üóëÔ∏è" @click="$emit('clear')">
          –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
        </BaseButton>

        <BaseButton variant="success" size="lg" icon="üí≥" @click="$emit('checkout')">
          –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
        </BaseButton>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useFormatting } from '~/composables/useFormatting'
import BaseButton from "~/components/ui/BaseButton.vue";

defineProps<{
  total: number
  itemsCount: number
}>()

defineEmits<{
  clear: []
  checkout: []
}>()

const { formatPrice } = useFormatting()
</script>